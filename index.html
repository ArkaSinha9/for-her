<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>For You ‚ù§Ô∏è</title>

  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #ffd6e8, #fff0f6);
      color: #333;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }

    .card {
      background: white;
      border-radius: 20px;
      padding: 30px;
      max-width: 420px;
      width: 90%;
      text-align: center;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
      position: relative;
    }

    h1 {
      color: #ff4d88;
      margin-bottom: 10px;
    }

    p {
      font-size: 1.05rem;
      line-height: 1.6;
    }

    .heart {
      font-size: 2.5rem;
      animation: pulse 1.5s infinite;
    }

    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.2); }
      100% { transform: scale(1); }
    }

    button {
      margin-top: 20px;
      padding: 10px 22px;
      border: none;
      border-radius: 25px;
      background: #ff4d88;
      color: white;
      font-size: 1rem;
      cursor: pointer;
      transition: background 0.3s, transform 0.2s;
    }

    button:hover {
      background: #e6005c;
    }

    #tease {
      margin-top: 10px;
      color: #ff4d88;
      font-size: 0.9rem;
    }

    .hidden-message {
      display: none;
      margin-top: 15px;
      color: #ff4d88;
      font-weight: bold;
    }

    #usButton {
      display: none;
      margin-top: 25px;
      background: #ff85ad;
    }

    /* üñºÔ∏è SLIDESHOW ‚Äî WHATSAPP STYLE */
    #slideshow {
      display: none;
      margin-top: 25px;
    }

    #yearLabel {
      margin-bottom: 10px;
      color: #ff4d88;
      font-weight: bold;
    }

    .image-frame {
      width: 100%;
      height: 350px;                 /* FIXED CARD */
      background: #ffe6f0;           /* SOFT PINK */
      border-radius: 15px;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 6px 15px rgba(0,0,0,0.2);
    }

    .image-frame img {
      max-width: 100%;
      max-height: 100%;
      object-fit: contain;           /* KEY LINE */
      border-radius: 12px;
    }

    #finalMessage {
      display: none;
      margin-top: 25px;
      font-size: 1.2rem;
      font-weight: bold;
      color: #ff4d88;
      animation: fadeIn 3s ease forwards;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>

<body>
  <div class="card">
    <div class="heart">‚ù§Ô∏è</div>

    <h1>Hey Love</h1>

    <p>
      I made this little website just for you.
      Every smile of yours means the world to me.
    </p>

    <button id="funButton">Try to click me üíï</button>
    <div id="tease">Catch me if you can üòú</div>

    <div class="hidden-message" id="message">
      As 2025 comes to an end, I just want you to know this from my heart üíñ<br/><br/>
      We have been together since 2022, and every year with you has made my life brighter.
      You truly mean the world to me. You are my sunshine, my love, my reason to live,
      my oxygen, my partner, and most of all ‚Äî my woman üå∑<br/><br/>
      I would do anything in my power to marry you ‚Äî in 2027, 2028, or even earlier,
      whenever <em>you</em> are ready. I choose you, today and always.
    </div>

    <button id="usButton" onclick="startSlideshow()">US üíë</button>

    <div id="slideshow">
      <div id="yearLabel"></div>
      <div class="image-frame">
        <img id="slideImage" src="" alt="Us" />
      </div>
    </div>

    <div id="finalMessage">
      Forever in every timeline, lifetime, universe ‚Äî always with you ‚ôæÔ∏è
    </div>
  </div>

  <audio id="bgMusic" loop>
    <source src="music.mp3" type="audio/mpeg">
  </audio>

  <script>
    const music = document.getElementById('bgMusic');
    const usButton = document.getElementById('usButton');
    const slideImage = document.getElementById('slideImage');
    const yearLabel = document.getElementById('yearLabel');
    const finalMessage = document.getElementById('finalMessage');
    const funButton = document.getElementById('funButton');
    const tease = document.getElementById('tease');

    let clicked = false;

    function moveButton() {
      if (clicked) return;
      const x = Math.random() * 200 - 100;
      const y = Math.random() * 120 - 60;
      funButton.style.transform = `translate(${x}px, ${y}px)`;
    }

    funButton.addEventListener('mouseenter', moveButton);

    funButton.addEventListener('click', () => {
      clicked = true;
      funButton.style.transform = 'translate(0,0)';
      funButton.disabled = true;

      document.getElementById('message').style.display = 'block';
      tease.innerText = 'Ok you caught me üòò';
      usButton.style.display = 'inline-block';

      music.volume = 0.6;
      music.play().catch(() => {});
    });

    let photos = {}, years = [], yearIndex = 0, photoIndex = 0, interval;

    async function startSlideshow() {
      usButton.style.display = 'none';
      document.getElementById('slideshow').style.display = 'block';

      const res = await fetch('photos.json');
      photos = await res.json();
      years = Object.keys(photos).sort();

      interval = setInterval(showNext, 2500);
      showNext();
    }

    function showNext() {
      const year = years[yearIndex];
      const imgs = photos[year];

      yearLabel.innerText = `Us in ${year}`;
      slideImage.src = `${year}/${imgs[photoIndex]}`;

      photoIndex++;
      if (photoIndex >= imgs.length) {
        photoIndex = 0;
        yearIndex++;
      }

      if (yearIndex >= years.length) {
        clearInterval(interval);
        document.getElementById('slideshow').style.display = 'none';
        finalMessage.style.display = 'block';
        fadeOutMusic();
      }
    }

    function fadeOutMusic() {
      const fade = setInterval(() => {
        if (music.volume > 0.02) music.volume -= 0.02;
        else { music.pause(); clearInterval(fade); }
      }, 200);
    }
  </script>
</body>
</html>

